cmake_minimum_required(VERSION 3.21.1)

project(Chapter8)

add_executable(08comsrv
Calculator.cpp
Calculator.h
Calculator.rgs
MAKEFILE
resource.h
sources
SRV.cpp
SRV.rc
SRV.rgs
#version.rc
../proxy/srv_i.c
../proxy/srv_p.c
../proxy/dlldata.c
)

set_target_properties(08comsrv PROPERTIES WIN32_EXECUTABLE TRUE)

target_link_libraries(08comsrv
kernel32.lib
advapi32.lib
user32.lib
version.lib
oleaut32.lib
ole32.lib
rpcrt4.lib
uuid.lib
)

add_compile_definitions(UNICODE _UNICODE)
